<div class="container_registros">
    <div class="registros_header">
        <span>
            <span class="title">Todos os registros</span>
            {{registros.length}}
        </span>

        <div class="acoes">
            <div class="search">
                <p-iconfield>
                    <p-inputicon styleClass="pi pi-search" />
                    <input type="text" pInputText placeholder="Search" />
                </p-iconfield>
            </div>
            <div class="filter">
                <i class="pi pi-filter"></i>
                Filtro
            </div>
            <div class="filter" *ngIf="selectedRegistros.length > 0" (click)="showDialog()">
                <i class="pi pi-file-export"></i>
                Exportar
            </div>
            <div class="btn_new_viagem">
                <i class="pi pi-plus"></i>
                Add Registro
            </div>
        </div>
    </div>


    <div class="registros_table">
        <p-table [value]="registros" [paginator]="true" [rows]="10" [(selection)]="selectedRegistros"
            dataKey="viagem_id" [tableStyle]="{'min-width': '50rem'}">
            <ng-template #header>
                <tr>
                    <th class="checkbox"><p-tableHeaderCheckbox /></th>
                    <th class="registros">Registros</th>
                    <th class="sssssss">Viagem</th>
                    <th class="colunm data">Tipo</th>
                    <th class="colunm data">Data</th>
                    <th class="colunm data">Hora</th>
                    <th class="colunm status">Descrição</th>
                </tr>
            </ng-template>
            <ng-template #body let-registro>
                <tr>
                    <td>
                        <p-tableCheckbox [value]="registro" />
                    </td>
                    <td class="registros">Jornada</td>
                    <td class="sssssss">{{getViagemNome(registro.viagem_id)}}</td>
                    <td class="colunm data">{{registro.tipo}}</td>
                    <td class="colunm data">{{registro.data}}</td>
                    <td class="colunm data">{{registro.hora}}</td>
                    <td class="colunm status">{{registro.descricao}}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>


<p-dialog header="Selecione o Formato de Exportação" [(visible)]="displayDialog" [style]="{width: '400px'}"
    [modal]="true" draggable="false">
    <div class="select">
        <p-selectButton [options]="exportOptions" [(ngModel)]="selectedFormat"></p-selectButton>
    </div>
    <ng-template pTemplate="footer">
        <button id="cancel">Cancelar</button>
        <button id="exportar" (click)="export()">Exportar</button>
    </ng-template>
</p-dialog>